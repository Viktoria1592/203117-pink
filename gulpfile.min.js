"use strict";var gulp=require("gulp"),sass=require("gulp-sass"),plumber=require("gulp-plumber"),postcss=require("gulp-postcss"),autoprefixer=require("autoprefixer"),minify=require("gulp-csso"),rename=require("gulp-rename"),imagemin=require("gulp-imagemin"),server=require("browser-sync").create(),webp=require("gulp-webp");gulp.task("style",function(){gulp.src("sass/style.scss").pipe(plumber()).pipe(sass()).pipe(postcss([autoprefixer()])).pipe(gulp.dest("css")).pipe(minify()).pipe(rename("style.min.css")).pipe(gulp.dest("css")).pipe(server.stream())}),gulp.task("serve",["style"],function(){server.init({server:".",notify:!1,open:!1,cors:!0,ui:!1}),gulp.watch("sass/**/*.{scss,sass}",["style"]),gulp.watch("*.html").on("change",server.reload)}),gulp.task("webp",function(){return gulp.src("webp-src/*.jpg").pipe(webp()).pipe(gulp.dest("webp-res"))}),gulp.task("images",function(){return gulp.src("img/**/*.{png,jpg,svg}").pipe(imagemin([imagemin.optipng({optimizationLevel:3}),imagemin.jpegtran({progressive:!0}),imagemin.svgo()])).pipe(gulp.dest("img"))});